<html>
  <head lang="en">
    <meta charset="UTF-8" />
    <title>Nora's coffeeshop - login</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script src="https://kit.fontawesome.com/e7001ac7fb.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" th:href="@{/css/layout.css}" />
  </head>

  <section th:replace="fragments/layout :: banner"></section>

  <section class="user">
    <h1>Userpage</h1>
    <section>
      <div th:each="user: ${userdata}">
        <h1 th:text="${user.name}">user</h1>
      </div>
      <table>
        <tbody th:each="user: ${userdata}">
          <tr>
            <td>address</td>
            <td th:text="${user.address}">address</td>
          </tr>
          <tr>
            <td>phonenumber</td>
            <td th:text="${user.phonenumber}"></td>
          </tr>
          <tr>
            <td>email</td>
            <td th:text="${user.email}"></td>
          </tr>
          <tr>
            <td><a th:href="@{'/user/{id}'(id=${user.id})}"><i class="fa-solid fa-pen"></i></a>
                <a th:href="@{'/user/delete/{id}'(id=${user.id})}"><i class="fa-solid fa-trash-can"></i></a></td>
          </tr>
        </tbody>
      </table>
    </section>
  </section>

  <section class="admin" sec:authorize="hasAuthority('ADMIN')">
    <aside>

      <h1>ADMIN</h1>
      
      <a th:href="@{/user/admin/editor}"><h3>Supplier</h3></a>
      
      <a th:href="@{/user/admin/maker}"><h3>Makers</h3></a>

      <!-- Tähän tuotteiden lisäys, tee controller ja service -->
      <!-- <a th:href="@{/user/admin/products}"><h3>Products</h3></a> -->


    </aside>
    
    
    <section>
      <h2>Only for admins</h2>
     
      <section class="addProduct">
        <form th:action="@{/admin/product}" method="post">
          <h2>Add a new product</h2>
          <div class="form-floating">
            <input
              type="text"
              class="form-control"
              id="floatingProductName"
              name="productname"
              placeholder="the name of the product"
            />
            <label for="floatingProductName">The name on the product</label>
          </div>
          <div class="form-floating">
            <textarea
              name="description"
              id="floatingDescription"
              class="form-control"
              rows="3"
              placeholder="description"
            >Description</textarea>
          </div>
          <div class="form-floating">
            <input
              type="text"
              class="form-control"
              id="floatingPrice"
              name="price"
              placeholder="Product price"
            />
            <label for="floatingPrice">Product price</label>
          </div>
          <div class="form-floating">
            <select class="form-select" name="deparmentId">
              <option selected>Deparments</option>
              <option
                th:each="deparment : ${deparments}"
                th:text="${deparment.name}"
                th:value="${deparment.id}">deparments
              </option>
            </select>
          </div>
          <div class="form-floating">
            <select class="form-select" name="editorId">
              <option selected>Editor</option>
              <option
                th:each="editor : ${editors}"
                th:text="${editor.name}"
                th:value="${editor.id}"
              >
                editors
              </option>
            </select>
          </div>
          <div class="form-floating">
            <select class="form-select" name="makerId">
              <option selected>makers</option>
              <option
                th:each="maker : ${makers}"
                th:text="${maker.name}"
                th:value="${maker.id}"
              >
                makers
              </option>
            </select>
          </div>
        </form>
      </section>
    </section>
  </section>

  <section th:replace="fragments/layout :: footer"></section>
</html>
